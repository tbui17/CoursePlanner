<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CoursePlanner.Pages.NotificationDataPage"
             xmlns:pageViewModels="clr-namespace:ViewModels.PageViewModels;assembly=ViewModels"
             xmlns:controls="clr-namespace:CoursePlanner.Controls"
             xmlns:interfaces="clr-namespace:Lib.Interfaces;assembly=Lib"
             xmlns:uranium="http://schemas.enisn-projects.io/dotnet/maui/uraniumui"
             x:DataType="pageViewModels:NotificationDataViewModel">
    <ContentPage.Content>
        <ScrollView>
            <VerticalStackLayout x:Name="MainLayout" Margin="10">
                <VerticalStackLayout Margin="10" Spacing="10">
                    <controls:AutoGrid>
                        <Label Text="Month" />
                        <DatePicker Date="{Binding MonthDate}" />
                        <Label Text="Filter" />
                        <Entry Text="{Binding FilterText}" />
                    </controls:AutoGrid>
                </VerticalStackLayout>

                <Border Style="{StaticResource CollectionBorder}">
                    <ScrollView Style="{StaticResource CollectionScrollView}">
                        <CollectionView ItemsSource="{Binding NotificationItems}" SelectionMode="None"
                                        HorizontalOptions="Center">
                            <CollectionView.ItemsLayout>
                                <LinearItemsLayout Orientation="Vertical" ItemSpacing="10" />
                            </CollectionView.ItemsLayout>


                            <CollectionView.ItemTemplate>
                                <DataTemplate x:DataType="interfaces:INotification">
                                    <Border>
                                        <uranium:GridLayout RowCount="5" ColumnCount="1" RowSpacing="5">
                                            <Label Text="{Binding Name, StringFormat='Name: {0}'}" />
                                            <Label
                                                Text="{Binding Start, Converter={StaticResource DateConverter}, StringFormat='Start: {0}'}" />
                                            <Label
                                                Text="{Binding End, Converter={StaticResource DateConverter}, StringFormat='End: {0}'}" />
                                            <Label Text="{Binding ShouldNotify, StringFormat='Notifications: {0}'}" />
                                            <Label Text="{Binding ShouldNotify, StringFormat='Notifications: {0}'}" />
                                        </uranium:GridLayout>
                                    </Border>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>
                    </ScrollView>
                </Border>

            </VerticalStackLayout>
        </ScrollView>

    </ContentPage.Content>
</ContentPage>